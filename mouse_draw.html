<!DOCTYPE html>
<html style="width: 100%;height: 100%;">
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body style="width: 100%;height: 100%;">
		 <canvas id="canvas" style="position:absolute;z-index: 3;top:0;background: #eeeeee;"></canvas>
	</body>
	<script src="js/jquery-2.1.4.min.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
	 var flag=false;
        var dqX=0;
        var dqY=0;
        var canvas = document.getElementById("canvas");
        var context = canvas.getContext("2d");
		$(function(){
			fuc_resize();
		})

		$(window).resize(function() {
			fuc_resize();
		});


		//onmousemove 事件
        $("#canvas").mousemove(function(e) {
            if (flag) {
          // alert(e.clientX);
           context.moveTo(dqX, dqY);
           context.lineTo(e.clientX, e.clientY);
           context.stroke(); 
           dqX=e.clientX;
           dqY=e.clientY;
                // 鼠标被按下
            }
        })
        //onmousedown事件
        $("#canvas").mousedown(function(e) {
            flag = true;
       // context.moveTo(e.clientX, e.clientY);
        dqX=e.clientX;
        dqY=e.clientY;
            // 事件处理
        })
        //onmouseup事件
        $("#canvas").mouseup(function(e) {
            flag = false;
            // 事件处理
        })  
	
	    //重设画布大小
		function fuc_resize(){
        $('#canvas').attr('height',$('body').height());
        $('#canvas').attr('width',$('body').width());
        context.strokeStyle = '#ff0000';
        context.lineWidth = 3;
		}
		
		
	</script>
</html>
